#!/bin/sh
# Simplistic udhcpc script to configure interfaces when a lease is obtained
RESOLV_CONF="/etc/resolv.conf"

case "$1" in
    deconfig)
        ifconfig "$interface" 0.0.0.0
        ;;
    renew|bound)
        ifconfig "$interface" "$ip" netmask "$subnet" broadcast "$broadcast"
        if [ -n "$router" ]; then
            ip route add default via "$router" dev "$interface"
        fi
        : > "$RESOLV_CONF"
        for ns in $dns; do
            echo "nameserver $ns" >> "$RESOLV_CONF"
        done
        ;;
    *)
        ;;
esac

exit 0
